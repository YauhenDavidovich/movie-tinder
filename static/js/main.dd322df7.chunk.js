(this["webpackJsonpmovie-tinder"]=this["webpackJsonpmovie-tinder"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(6),o=n.n(i),a=(n(30),n(12)),s=(n(31),n(3)),u=n(25),l=n(7),d=n.n(l),f=n(21);function j(){return(j=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/movie-tinder/data.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var h=function(){return j.apply(this,arguments)},b=n(22),p=(n.n(b).a.create({baseURL:"https://localhost:8080/recommendations/"}),[]),v=n(23),O=n.n(v),m=n(1),g=function(e){return Object(m.jsx)(O.a,{ref:e.childRefs[e.index],className:"swipe",onSwipe:e.onSwipe,onCardLeftScreen:e.onCardLeftScreen,children:Object(m.jsx)("div",{style:{backgroundImage:"url("+e.movie.imageURL+")"},className:"card",children:Object(m.jsx)("h3",{children:e.movie.title})})})};var x=function(){var e=[],t=Object(s.b)(),n=Object(s.c)((function(e){return e.movies})),i=Object(c.useMemo)((function(){return Array(n.length).fill(0).map((function(e){return r.a.createRef()}))}),[n]),o=Object(c.useState)(n),u=Object(a.a)(o,2),l=u[0],d=u[1],f=Object(c.useState)(e),j=Object(a.a)(f,2),b=j[0],p=j[1],v=n;Object(c.useEffect)((function(){t((function(e){h().then((function(t){e({type:"SET-MOVIES",movies:t})}))}))}),[]),Object(c.useEffect)((function(){d(v)}),[v]);var O=function(e,t){b.push(t),p(b),x(t),"right"!==e?function(e){console.log("Movie "+e+" was rejectedted")}(t):function(e){console.log("Movie "+e+" was accepted")}(t)},x=function(e){v=v.filter((function(t){return t.id!==e})),d(v)},w=function(t){var c=l.filter((function(e){return!b.includes(e.id)}));if(c.length){var r,o,a=c[c.length-1].id,s=n.map((function(e){return e.id})).indexOf(a);e.push(a),p(e),null===(r=i[s])||void 0===r||null===(o=r.current)||void 0===o||o.swipe(t)}};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"Movie Tinder"}),Object(m.jsx)("div",{className:"cardContainer",children:v.map((function(e,t){return Object(m.jsx)(g,{childRefs:i,index:t,onSwipe:function(t){return O(t,e.id)},onCardLeftScreen:function(){return x(e.id)},movie:e},e.id)}))}),b.length!==n.length?Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)("button",{className:"button-reject",onClick:function(){return w("left")},children:"Reject"}),Object(m.jsx)("button",{className:"button-accept",onClick:function(){return w("right")},children:"Accept"})]}):Object(m.jsx)(m.Fragment,{}),b.length!==n.length?Object(m.jsx)("h2",{className:"infoText",children:"Swipe a card to the right to accept!"}):Object(m.jsx)("h2",{children:"You've seen all the movies!"})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))},S=n(8),C=n(24),E=Object(S.b)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-MOVIES":return t.movies.map((function(e){return Object(u.a)({},e)}));case"ACCEPT-MOVIE":case"REJECT-MOVIE":return e.filter((function(e){return e.id!=t.id}));default:return e}}}),M=Object(S.c)(E,Object(S.a)(C.a));window.store=M,o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(s.a,{store:M,children:Object(m.jsx)(x,{})})}),document.getElementById("root")),w()}},[[58,1,2]]]);
//# sourceMappingURL=main.dd322df7.chunk.js.map